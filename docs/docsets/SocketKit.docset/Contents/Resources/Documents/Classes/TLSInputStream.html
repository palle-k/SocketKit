<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TLSInputStream Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>

    <a name="//apple_ref/swift/Class/TLSInputStream" class="dashAnchor"></a>

    <a title="TLSInputStream Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          SocketKit Docs
        </a>
         (91% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/palle-k/SocketKit/">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">SocketKit Reference</a>
      <img class="carat" src="../img/carat.png" />
      TLSInputStream Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/HTTPResponse.html">HTTPResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ServerSocket.html">ServerSocket</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TCPSocket.html">TCPSocket</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TLSInputStream.html">TLSInputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TLSOutputStream.html">TLSOutputStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DNSError.html">DNSError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DataError.html">DataError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPRequestHeaderField.html">HTTPRequestHeaderField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPResponseHeaderField.html">HTTPResponseHeaderField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPStatusCode.html">HTTPStatusCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPVersion.html">HTTPVersion</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/IOError.html">IOError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SocketError.html">SocketError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/TLSError.html">TLSError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:F9SocketKitoi2eeFTVS_11CertificateS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:F9SocketKit19TLSCreateStreamPairFzT15fromInputStreamPS_11InputStream_12outputStreamPS_12OutputStream_12certificatesGSaVS_11Certificate__T11inputStreamCS_14TLSInputStream12outputStreamCS_15TLSOutputStream_">TLSCreateStreamPair(fromInputStream:outputStream:certificates:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/InputStream.html">InputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/InputStreamDelegate.html">InputStreamDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/OutputStream.html">OutputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ServerSocketDelegate.html">ServerSocketDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Socket.html">Socket</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/StreamReadable.html">StreamReadable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/StreamWritable.html">StreamWritable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Certificate.html">Certificate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/HTTPRequest.html">HTTPRequest</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>TLSInputStream</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="n">open</span> <span class="kd">class</span> <span class="kt">TLSInputStream</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/InputStream.html">InputStream</a></span><span class="p">,</span> <span class="kt"><a href="../Protocols/InputStreamDelegate.html">InputStreamDelegate</a></span></code></pre>

                </div>
              </div>
            <p>An input stream which is encrypted using the
TLS/SSL protocol.</p>

<p>The input stream uses an underlying input stream to 
read the encrypted data, which is then decrypted.</p>

<p>The decrypted data can then be read from this stream.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:ZFC9SocketKit14TLSInputStream16CreateStreamPairFzT15fromInputStreamPS_11InputStream_12outputStreamPS_12OutputStream_12certificatesGSaVS_11Certificate__T11inputStreamS0_12outputStreamCS_15TLSOutputStream_"></a>
                    <a name="//apple_ref/swift/Method/CreateStreamPair(fromInputStream:outputStream:certificates:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:ZFC9SocketKit14TLSInputStream16CreateStreamPairFzT15fromInputStreamPS_11InputStream_12outputStreamPS_12OutputStream_12certificatesGSaVS_11Certificate__T11inputStreamS0_12outputStreamCS_15TLSOutputStream_">CreateStreamPair(fromInputStream:outputStream:certificates:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a TLS/SSL session for the provided streams.</p>

<p>This currently works for server side only.</p>

<p>The provided Certificates are used for encryption.</p>

<p>When creating an encrypted stream pair, a handshake will automatically be performed.
If the handshake fails, a TLSError will be thrown.</p>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>A TLSError indicating that the TLS/SSL session could not be created.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="kd">class</span> <span class="kd">func</span> <span class="kt">CreateStreamPair</span><span class="p">(</span><span class="n">fromInputStream</span> <span class="nv">inputStream</span><span class="p">:</span> <span class="kt"><a href="../Protocols/InputStream.html">InputStream</a></span><span class="p">,</span> <span class="nv">outputStream</span><span class="p">:</span> <span class="kt"><a href="../Protocols/OutputStream.html">OutputStream</a></span><span class="p">,</span> <span class="nv">certificates</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/Certificate.html">Certificate</a></span><span class="p">])</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">inputStream</span><span class="p">:</span> <span class="kt">TLSInputStream</span><span class="p">,</span> <span class="nv">outputStream</span><span class="p">:</span> <span class="kt"><a href="../Classes/TLSOutputStream.html">TLSOutputStream</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>inputStream</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Input stream which should be used as an underlying stream to the TLS/SSL input stream. Reads the encrypted data.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>outputStream</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Output stream which should be used as an underlying stream to the TLS/SSL output stream. The encrypted data will be written to it.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>certificates</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Array of certificates for encryption. The first certificate has to contain a private key used for decryption. A private key will automatically be included if the certificate is loaded from a PKCS12-file.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An encrypted input and output stream.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC9SocketKit14TLSInputStream16underlyingStreamPS_11InputStream_"></a>
                    <a name="//apple_ref/swift/Property/underlyingStream" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC9SocketKit14TLSInputStream16underlyingStreamPS_11InputStream_">underlyingStream</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Underlying stream of the encrypted stream.</p>

<p>Reads data from a source which was TLS/SSL encrypted.
The data read from this stream will be decrypted and can be read
from the TLSInputStream.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="k">let</span> <span class="nv">underlyingStream</span><span class="p">:</span> <span class="kt"><a href="../Protocols/InputStream.html">InputStream</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC9SocketKit14TLSInputStream8delegateGSqPS_19InputStreamDelegate__"></a>
                    <a name="//apple_ref/swift/Property/delegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC9SocketKit14TLSInputStream8delegateGSqPS_19InputStreamDelegate__">delegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The delegate of this stream will be notified
if new data is available or the stream was closed.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt"><a href="../Protocols/InputStreamDelegate.html">InputStreamDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC9SocketKit14TLSInputStream4openSb"></a>
                    <a name="//apple_ref/swift/Property/open" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC9SocketKit14TLSInputStream4openSb">open</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Specifies, if this stream is open and data can be read from it.</p>

<p>If the stream is closed and a read operation is initiated,
an IOError will be thrown.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n">open</span> <span class="k">var</span> <span class="nv">open</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC9SocketKit14TLSInputStream4readFzSiGSaVs4Int8_"></a>
                    <a name="//apple_ref/swift/Method/read(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC9SocketKit14TLSInputStream4readFzSiGSaVs4Int8_">read(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Reads encrypted data and decrypts it.</p>

<p>The number of elements in the returned array
is equal to or less than the minumum of
maxByteCount and bufferSize.</p>

<p>If the operation fails, an IOError is thrown.</p>

<p>The error may be .WouldBlock or .Again, which indicates
that the read operation failed because no data is available
and non-blocking I/O is used.
In this case, the read operation has to be repeated.</p>

<p>For this reason, a delegate can be used,
which will be notified, if new data becomes available.</p>

<p>After the delegate is notified, a call of this function
will most likely not throw these errors.</p>

<p>If an .Interrupted error is thrown, the operation
has to be tried again.</p>

<p>If an .EndOfFile error is thrown, the end of the data
has been reached and no more data will be available.
Subsequent calls to this function will fail.
The stream will automatically be closed.</p>

<div class="aside aside-throws">
    <p class="aside-title">Throws</p>
    <p>An IOError indicating that the read operation failed.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="kd">func</span> <span class="nf">read</span><span class="p">(</span><span class="n">_</span> <span class="nv">maxByteCount</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">CChar</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>maxByteCount</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Maximum number of bytes to read.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An array of chars containing the data which was read.</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC9SocketKit14TLSInputStream5closeFT_T_"></a>
                    <a name="//apple_ref/swift/Method/close()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC9SocketKit14TLSInputStream5closeFT_T_">close()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Closes the stream manually and shuts down the underlying stream
so no more read calls are possible.</p>

<p>Subsequent calls to the read-function function will fail.</p>

<p>The delegate will be notified of this operation.</p>

<p>This operation also closes the underlying stream.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="kd">func</span> <span class="nf">close</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC9SocketKit14TLSInputStream7canReadFT4fromPS_11InputStream__T_"></a>
                    <a name="//apple_ref/swift/Method/canRead(from:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC9SocketKit14TLSInputStream7canReadFT4fromPS_11InputStream__T_">canRead(from:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delegate methods for the underlying stream</p>

<p>Notifies the stream about new data which is available
in the underlying stream.</p>

<p><strong>Warning:</strong> This method should not be called manually,
it will automatically be called by the underlying stream.</p>

<p>If another stream than the underlying stream is passed to this method,
the call will be ignored.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="kd">func</span> <span class="nf">canRead</span><span class="p">(</span><span class="n">from</span> <span class="nv">inputStream</span><span class="p">:</span> <span class="kt"><a href="../Protocols/InputStream.html">InputStream</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>inputStream</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The input stream which has new data available.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC9SocketKit14TLSInputStream8didCloseFPS_11InputStream_T_"></a>
                    <a name="//apple_ref/swift/Method/didClose(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC9SocketKit14TLSInputStream8didCloseFPS_11InputStream_T_">didClose(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delegate methods for the underlying stream</p>

<p>Notifies the stream that the underlying stream was closed.</p>

<p><strong>Warning:</strong> This method should not be called manually,
it will automatically be called by the underlying stream.</p>

<p>If another stream than the underlying stream is passed to this method,
the call will be ignored.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n"><a href="../Classes/TLSInputStream.html#/s:vC9SocketKit14TLSInputStream4openSb">open</a></span> <span class="kd">func</span> <span class="nf">didClose</span><span class="p">(</span><span class="n">_</span> <span class="nv">inputStream</span><span class="p">:</span> <span class="kt"><a href="../Protocols/InputStream.html">InputStream</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>inputStream</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The input stream which has new data available.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="https://github.com/palle-k" target="_blank" rel="external">Palle</a>. All rights reserved. (Last updated: 2016-10-07)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
